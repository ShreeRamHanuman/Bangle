<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bangle.js Dashboard</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link rel="stylesheet" href="style.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    
</head>
<body>
    <div class="container">
        <div class="header-row d-flex justify-content-between align-items-center">
            <div class="dashboard-title d-flex align-items-center">
                <i class="fas fa-clock"></i>
                             <h4 class="me-auto" id="watch-name">Bangle.js Dashboard</h4>
            </div>
            <div class="text-center">
                <input type="text" id="user-name" placeholder="Enter your name" class="form-control d-inline-block w-auto">
                <button class="btn btn-primary" onclick="updateName()">Get Vitals</button>
            </div>
            <div class="text-right">
                <h7 id="date-time">Date:</h7>
                <div class="battery-status d-flex align-items-center">
                    <i class="fas fa-battery-three-quarters"></i>
                    <span id="battery-level" class="ms-2">85%</span>
                </div>
            </div>
        </div>
        

        <div class="dashboard-container">
            <div class="row">
                <div class="col-md-4">
                    <div class="dashboard-card" onclick="displayChart('heart-rate-chart', heartRateData, 'Heart Rate')">
                        <i class="fas fa-heartbeat icon"></i>
                        <h5>Heart Rate</h5>
                        <p id="heart-rate">75 bpm</p>
                        <div class="chart-container" id="heart-rate-chart-container" onclick="hideChart(event)">
                            <canvas id="heart-rate-chart"></canvas>
                        </div>
                    </div>
                </div>

                <div class="col-md-4">
                    <div class="dashboard-card" onclick="displayChart('steps-chart', stepsData, 'Steps')">
                        <i class="fas fa-shoe-prints icon"></i>
                        <h5>Steps</h5>
                        <p id="steps-count">5,320 steps</p>
                        <div class="chart-container" id="steps-chart-container" onclick="hideChart(event)">
                            <canvas id="steps-chart"></canvas>
                        </div>
                    </div>
                </div>

                <div class="col-md-4">
                    <div class="dashboard-card" onclick="displayChart('temperature-chart', temperatureData, 'Temperature')">
                        <i class="fas fa-thermometer-half icon"></i>
                        <h5>Temperature</h5>
                        <p id="temperature">36.5°C</p>
                        <div class="chart-container" id="temperature-chart-container" onclick="hideChart(event)">
                            <canvas id="temperature-chart"></canvas>
                        </div>
                    </div>
                </div>

                <div class="col-md-4">
                    <div class="dashboard-card" onclick="displayChart('acceleration-chart', accelerationData, 'Acceleration')">
                        <i class="fas fa-tachometer-alt icon"></i>
                        <h5>Acceleration</h5>
                        <p id="acceleration">2.3 m/s²</p>
                        <div class="chart-container" id="acceleration-chart-container" onclick="hideChart(event)">
                            <canvas id="acceleration-chart"></canvas>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        function updateName() {
            const nameInput = document.getElementById('user-name').value;
            const nameDisplay = document.getElementById('watch-name');
            nameDisplay.textContent = nameInput.trim() !== "" ? nameInput + "'s Dashboard" : "Bangle.js Dashboard";
        }

        const dateTimeElem = document.getElementById("date-time");
        setInterval(() => {
            const now = new Date();
            dateTimeElem.textContent = `Date: ${now.toLocaleDateString()} Time: ${now.toLocaleTimeString()}`;
        }, 1000);

        const heartRateData = {
            labels: ['10 AM', '11 AM', '12 PM', '1 PM', '2 PM'],
            datasets: [{
                label: 'Heart Rate (bpm)',
                data: [70, 75, 78, 74, 80],
                borderColor: 'rgba(255, 99, 132, 1)',
                backgroundColor: 'rgba(255, 99, 132, 0.2)',
            }]
        };

        const stepsData = {
            labels: ['10 AM', '11 AM', '12 PM', '1 PM', '2 PM'],
            datasets: [{
                label: 'Steps',
                data: [1000, 2000, 3000, 4000, 5000],
                borderColor: 'rgba(54, 162, 235, 1)',
                backgroundColor: 'rgba(54, 162, 235, 0.2)',
            }]
        };

        const temperatureData = {
            labels: ['10 AM', '11 AM', '12 PM', '1 PM', '2 PM'],
            datasets: [{
                label: 'Temperature (°C)',
                data: [36.3, 36.4, 36.5, 36.7, 36.8],
                borderColor: 'rgba(255, 206, 86, 1)',
                backgroundColor: 'rgba(255, 206, 86, 0.2)',
            }]
        };

        const accelerationData = {
            labels: ['10 AM', '11 AM', '12 PM', '1 PM', '2 PM'],
            datasets: [{
                label: 'Acceleration (m/s²)',
                data: [2.1, 2.2, 2.3, 2.4, 2.5],
                borderColor: 'rgba(75, 192, 192, 1)',
                backgroundColor: 'rgba(75, 192, 192, 0.2)',
            }]
        };

        function displayChart(chartId, data, label) {
            const chartContainer = document.querySelector(`#${chartId.replace('-chart', '-chart-container')}`);
            const chartCanvas = document.getElementById(chartId);
            chartContainer.style.display = 'flex'; // Show chart container

            const myChart = new Chart(chartCanvas, {
                type: 'line',
                data: data,
                options: {
                    responsive: true,
                    plugins: {
                        legend: {
                            display: true,
                            position: 'top',
                        },
                        title: {
                            display: true,
                            text: label
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: true
                        }
                    }
                }
            });
        }

        function hideChart(event) {
            event.stopPropagation(); // Prevent the click event from bubbling up
            const chartContainer = event.currentTarget;
            chartContainer.style.display = 'none'; // Hide chart container
        }
    </script>
</body>
</html>
